---
all:
  hosts:
    ansible:
      ansible_host: "{{ ip | default(domain) }}"
      ansible_user: "{{ username }}"
    root:
      ansible_host: "{{ ip | default(domain) }}"
      ansible_user: "root"

  vars:
    username: ansible
    base_backup_dir: "/home/{{ username }}/backups"
    service:
      cloud:
        subdomain: "cloud"
        port: 81
        backup_dir: "{{ base_backup_dir }}/{{ service.cloud.subdomain }}"
      vault:
        subdomain: "vault"
        port: 82
        backup_dir: "{{ base_backup_dir }}/{{ service.vault.subdomain }}"
      searx:
        subdomain: "searx"
        port: 83
    ports:
      ssh: 22
      http: 80
      https: 443
