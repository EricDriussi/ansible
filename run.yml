---
- name: CREATE USER
  tags: user
  hosts: root
  become: true

  tasks:
    - import_tasks: tasks/01_create-user.yml

- name: SSH CONFIG
  tags: ssh
  hosts: ansible
  become: true

  tasks:
    - import_tasks: tasks/02_ssh-config.yml

- name: INSTALL ESSENTIALS
  tags: install
  hosts: all
  become: true

  tasks:
    - import_tasks: tasks/03_essentials.yml

- name: CONFIG SERVER
  tags: config
  hosts: all
  become: true

  tasks:
    - import_tasks: tasks/04_server-config.yml

- name: PROVISION SERVER
  tags: provision
  hosts: ansible
  become: true

  tasks:
    - import_tasks: tasks/05_server-provision.yml
